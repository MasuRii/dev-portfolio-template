---
import SkillCard from './SkillCard.astro';

interface Skill {
  name: string;
  icon: string;
  level: number;
}

interface Props {
  category: string;
  description: string;
  skills: Skill[];
  index?: number;
}

const { category, description, skills, index = 0 } = Astro.props;

// Determine grid column based on index for stable positioning
// Even index (0) = left column, Odd index (1) = right column on large screens
const gridColumnClass = index === 0 ? 'lg:col-start-1' : 'lg:col-start-2';
---

<div
  class:list={[
    'bg-background p-8 md:p-12 transition-all duration-500',
    gridColumnClass,
  ]}
  data-skill-category={category}
  data-category-index={index}
>
  <div class="mb-8">
    <h3 class="font-display text-h3 mb-2 font-bold text-primary">
      {category}
    </h3>
    <p class="text-small text-secondary lg:min-h-[2.5rem]">
      {description}
    </p>
  </div>

  <div class="grid grid-cols-2 gap-4 sm:grid-cols-3">
    {skills.map((skill) => <SkillCard {...skill} />)}
  </div>
</div>
